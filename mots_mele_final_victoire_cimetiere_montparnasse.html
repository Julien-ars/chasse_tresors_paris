<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Mots M√™l√©s - Cimeti√®re Montparnasse</title>
  <style>
    body {
      font-family: 'Helvetica Neue', sans-serif;
      background-color: #121213;
      color: #f6f7f8;
      text-align: center;
      padding: 20px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(15, 35px);
      gap: 2px;
      justify-content: center;
      margin: 20px auto;
    }
    .cell {
      width: 35px;
      height: 35px;
      background-color: #1e1e20;
      color: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1em;
      border: 1px solid #3a3a3c;
      cursor: pointer;
      user-select: none;
    }
    .cell.marked {
      background-color: #444;
      color: #aaa;
      text-decoration: line-through;
    }
    .hidden {
      visibility: hidden;
    }
    ul {
      list-style: none;
      padding: 0;
      margin-top: 20px;
    }
    li {
      cursor: pointer;
      margin: 5px;
      padding: 4px 8px;
      background-color: #1e1e20;
      display: inline-block;
      border-radius: 5px;
    }
    li.found {
      text-decoration: line-through;
      color: #888;
      background-color: #333;
    }
  </style>
</head>
<body>
  <h2>üîç Mots M√™l√©s Interactif</h2>
  <p>Trouve tous les mots ci-dessous dans la grille en les s√©lectionnant manuellement. Une fois tous barr√©s, un message appara√Ætra‚Ä¶</p>

  <div class="grid" id="grid">
<div class='cell' data-row='0' data-col='0'>H</div>
<div class='cell' data-row='0' data-col='1'>J</div>
<div class='cell' data-row='0' data-col='2'>R</div>
<div class='cell' data-row='0' data-col='3'>A</div>
<div class='cell' data-row='0' data-col='4'>T</div>
<div class='cell' data-row='0' data-col='5'>H</div>
<div class='cell' data-row='0' data-col='6'>M</div>
<div class='cell' data-row='0' data-col='7'>C</div>
<div class='cell' data-row='0' data-col='8'>L</div>
<div class='cell' data-row='0' data-col='9'>X</div>
<div class='cell' data-row='0' data-col='10'>N</div>
<div class='cell' data-row='0' data-col='11'>G</div>
<div class='cell' data-row='0' data-col='12'>F</div>
<div class='cell' data-row='0' data-col='13'>V</div>
<div class='cell' data-row='0' data-col='14'>N</div>
<div class='cell' data-row='1' data-col='0'>R</div>
<div class='cell' data-row='1' data-col='1'>S</div>
<div class='cell' data-row='1' data-col='2'>V</div>
<div class='cell' data-row='1' data-col='3'>A</div>
<div class='cell' data-row='1' data-col='4'>M</div>
<div class='cell' data-row='1' data-col='5'>G</div>
<div class='cell' data-row='1' data-col='6'>D</div>
<div class='cell' data-row='1' data-col='7'>L</div>
<div class='cell' data-row='1' data-col='8'>E</div>
<div class='cell' data-row='1' data-col='9'>Q</div>
<div class='cell' data-row='1' data-col='10'>W</div>
<div class='cell' data-row='1' data-col='11'>P</div>
<div class='cell' data-row='1' data-col='12'>D</div>
<div class='cell' data-row='1' data-col='13'>L</div>
<div class='cell' data-row='1' data-col='14'>J</div>
<div class='cell' data-row='2' data-col='0'>U</div>
<div class='cell' data-row='2' data-col='1'>A</div>
<div class='cell' data-row='2' data-col='2'>F</div>
<div class='cell' data-row='2' data-col='3'>T</div>
<div class='cell' data-row='2' data-col='4'>O</div>
<div class='cell' data-row='2' data-col='5'>S</div>
<div class='cell' data-row='2' data-col='6'>N</div>
<div class='cell' data-row='2' data-col='7'>U</div>
<div class='cell' data-row='2' data-col='8'>G</div>
<div class='cell' data-row='2' data-col='9'>E</div>
<div class='cell' data-row='2' data-col='10'>U</div>
<div class='cell' data-row='2' data-col='11'>J</div>
<div class='cell' data-row='2' data-col='12'>Y</div>
<div class='cell' data-row='2' data-col='13'>C</div>
<div class='cell' data-row='2' data-col='14'>S</div>
<div class='cell' data-row='3' data-col='0'>I</div>
<div class='cell' data-row='3' data-col='1'>K</div>
<div class='cell' data-row='3' data-col='2'>N</div>
<div class='cell' data-row='3' data-col='3'>E</div>
<div class='cell' data-row='3' data-col='4'>N</div>
<div class='cell' data-row='3' data-col='5'>V</div>
<div class='cell' data-row='3' data-col='6'>L</div>
<div class='cell' data-row='3' data-col='7'>P</div>
<div class='cell' data-row='3' data-col='8'>Z</div>
<div class='cell' data-row='3' data-col='9'>N</div>
<div class='cell' data-row='3' data-col='10'>T</div>
<div class='cell' data-row='3' data-col='11'>F</div>
<div class='cell' data-row='3' data-col='12'>C</div>
<div class='cell' data-row='3' data-col='13'>I</div>
<div class='cell' data-row='3' data-col='14'>I</div>
<div class='cell' data-row='4' data-col='0'>N</div>
<div class='cell' data-row='4' data-col='1'>P</div>
<div class='cell' data-row='4' data-col='2'>U</div>
<div class='cell' data-row='4' data-col='3'>I</div>
<div class='cell' data-row='4' data-col='4'>T</div>
<div class='cell' data-row='4' data-col='5'>F</div>
<div class='cell' data-row='4' data-col='6'>O</div>
<div class='cell' data-row='4' data-col='7'>H</div>
<div class='cell' data-row='4' data-col='8'>J</div>
<div class='cell' data-row='4' data-col='9'>C</div>
<div class='cell' data-row='4' data-col='10'>G</div>
<div class='cell' data-row='4' data-col='11'>P</div>
<div class='cell' data-row='4' data-col='12'>V</div>
<div class='cell' data-row='4' data-col='13'>M</div>
<div class='cell' data-row='4' data-col='14'>S</div>
<div class='cell' data-row='5' data-col='0'>E</div>
<div class='cell' data-row='5' data-col='1'>U</div>
<div class='cell' data-row='5' data-col='2'>Q</div>
<div class='cell' data-row='5' data-col='3'>Y</div>
<div class='cell' data-row='5' data-col='4'>P</div>
<div class='cell' data-row='5' data-col='5'>T</div>
<div class='cell' data-row='5' data-col='6'>F</div>
<div class='cell' data-row='5' data-col='7'>A</div>
<div class='cell' data-row='5' data-col='8'>N</div>
<div class='cell' data-row='5' data-col='9'>T</div>
<div class='cell' data-row='5' data-col='10'>O</div>
<div class='cell' data-row='5' data-col='11'>M</div>
<div class='cell' data-row='5' data-col='12'>E</div>
<div class='cell' data-row='5' data-col='13'>E</div>
<div class='cell' data-row='5' data-col='14'>W</div>
<div class='cell' data-row='6' data-col='0'>N</div>
<div class='cell' data-row='6' data-col='1'>Y</div>
<div class='cell' data-row='6' data-col='2'>F</div>
<div class='cell' data-row='6' data-col='3'>Q</div>
<div class='cell' data-row='6' data-col='4'>A</div>
<div class='cell' data-row='6' data-col='5'>C</div>
<div class='cell' data-row='6' data-col='6'>K</div>
<div class='cell' data-row='6' data-col='7'>N</div>
<div class='cell' data-row='6' data-col='8'>G</div>
<div class='cell' data-row='6' data-col='9'>C</div>
<div class='cell' data-row='6' data-col='10'>T</div>
<div class='cell' data-row='6' data-col='11'>L</div>
<div class='cell' data-row='6' data-col='12'>S</div>
<div class='cell' data-row='6' data-col='13'>T</div>
<div class='cell' data-row='6' data-col='14'>F</div>
<div class='cell' data-row='7' data-col='0'>L</div>
<div class='cell' data-row='7' data-col='1'>O</div>
<div class='cell' data-row='7' data-col='2'>X</div>
<div class='cell' data-row='7' data-col='3'>W</div>
<div class='cell' data-row='7' data-col='4'>R</div>
<div class='cell' data-row='7' data-col='5'>F</div>
<div class='cell' data-row='7' data-col='6'>B</div>
<div class='cell' data-row='7' data-col='7'>T</div>
<div class='cell' data-row='7' data-col='8'>J</div>
<div class='cell' data-row='7' data-col='9'>C</div>
<div class='cell' data-row='7' data-col='10'>B</div>
<div class='cell' data-row='7' data-col='11'>X</div>
<div class='cell' data-row='7' data-col='12'>P</div>
<div class='cell' data-row='7' data-col='13'>I</div>
<div class='cell' data-row='7' data-col='14'>D</div>
<div class='cell' data-row='8' data-col='0'>J</div>
<div class='cell' data-row='8' data-col='1'>P</div>
<div class='cell' data-row='8' data-col='2'>J</div>
<div class='cell' data-row='8' data-col='3'>S</div>
<div class='cell' data-row='8' data-col='4'>N</div>
<div class='cell' data-row='8' data-col='5'>R</div>
<div class='cell' data-row='8' data-col='6'>T</div>
<div class='cell' data-row='8' data-col='7'>O</div>
<div class='cell' data-row='8' data-col='8'>M</div>
<div class='cell' data-row='8' data-col='9'>B</div>
<div class='cell' data-row='8' data-col='10'>R</div>
<div class='cell' data-row='8' data-col='11'>E</div>
<div class='cell' data-row='8' data-col='12'>I</div>
<div class='cell' data-row='8' data-col='13'>E</div>
<div class='cell' data-row='8' data-col='14'>O</div>
<div class='cell' data-row='9' data-col='0'>K</div>
<div class='cell' data-row='9' data-col='1'>E</div>
<div class='cell' data-row='9' data-col='2'>P</div>
<div class='cell' data-row='9' data-col='3'>X</div>
<div class='cell' data-row='9' data-col='4'>A</div>
<div class='cell' data-row='9' data-col='5'>V</div>
<div class='cell' data-row='9' data-col='6'>L</div>
<div class='cell' data-row='9' data-col='7'>M</div>
<div class='cell' data-row='9' data-col='8'>E</div>
<div class='cell' data-row='9' data-col='9'>C</div>
<div class='cell' data-row='9' data-col='10'>I</div>
<div class='cell' data-row='9' data-col='11'>X</div>
<div class='cell' data-row='9' data-col='12'>M</div>
<div class='cell' data-row='9' data-col='13'>R</div>
<div class='cell' data-row='9' data-col='14'>N</div>
<div class='cell' data-row='10' data-col='0'>M</div>
<div class='cell' data-row='10' data-col='1'>R</div>
<div class='cell' data-row='10' data-col='2'>Q</div>
<div class='cell' data-row='10' data-col='3'>I</div>
<div class='cell' data-row='10' data-col='4'>S</div>
<div class='cell' data-row='10' data-col='5'>G</div>
<div class='cell' data-row='10' data-col='6'>H</div>
<div class='cell' data-row='10' data-col='7'>P</div>
<div class='cell' data-row='10' data-col='8'>P</div>
<div class='cell' data-row='10' data-col='9'>T</div>
<div class='cell' data-row='10' data-col='10'>O</div>
<div class='cell' data-row='10' data-col='11'>M</div>
<div class='cell' data-row='10' data-col='12'>B</div>
<div class='cell' data-row='10' data-col='13'>E</div>
<div class='cell' data-row='10' data-col='14'>R</div>
<div class='cell' data-row='11' data-col='0'>M</div>
<div class='cell' data-row='11' data-col='1'>A</div>
<div class='cell' data-row='11' data-col='2'>H</div>
<div class='cell' data-row='11' data-col='3'>H</div>
<div class='cell' data-row='11' data-col='4'>S</div>
<div class='cell' data-row='11' data-col='5'>O</div>
<div class='cell' data-row='11' data-col='6'>Z</div>
<div class='cell' data-row='11' data-col='7'>X</div>
<div class='cell' data-row='11' data-col='8'>J</div>
<div class='cell' data-row='11' data-col='9'>A</div>
<div class='cell' data-row='11' data-col='10'>P</div>
<div class='cell' data-row='11' data-col='11'>A</div>
<div class='cell' data-row='11' data-col='12'>R</div>
<div class='cell' data-row='11' data-col='13'>I</div>
<div class='cell' data-row='11' data-col='14'>S</div>
<div class='cell' data-row='12' data-col='0'>M</div>
<div class='cell' data-row='12' data-col='1'>C</div>
<div class='cell' data-row='12' data-col='2'>W</div>
<div class='cell' data-row='12' data-col='3'>U</div>
<div class='cell' data-row='12' data-col='4'>E</div>
<div class='cell' data-row='12' data-col='5'>K</div>
<div class='cell' data-row='12' data-col='6'>M</div>
<div class='cell' data-row='12' data-col='7'>Y</div>
<div class='cell' data-row='12' data-col='8'>S</div>
<div class='cell' data-row='12' data-col='9'>T</div>
<div class='cell' data-row='12' data-col='10'>E</div>
<div class='cell' data-row='12' data-col='11'>R</div>
<div class='cell' data-row='12' data-col='12'>E</div>
<div class='cell' data-row='12' data-col='13'>T</div>
<div class='cell' data-row='12' data-col='14'>W</div>
<div class='cell' data-row='13' data-col='0'>R</div>
<div class='cell' data-row='13' data-col='1'>H</div>
<div class='cell' data-row='13' data-col='2'>P</div>
<div class='cell' data-row='13' data-col='3'>O</div>
<div class='cell' data-row='13' data-col='4'>R</div>
<div class='cell' data-row='13' data-col='5'>A</div>
<div class='cell' data-row='13' data-col='6'>D</div>
<div class='cell' data-row='13' data-col='7'>L</div>
<div class='cell' data-row='13' data-col='8'>U</div>
<div class='cell' data-row='13' data-col='9'>M</div>
<div class='cell' data-row='13' data-col='10'>I</div>
<div class='cell' data-row='13' data-col='11'>E</div>
<div class='cell' data-row='13' data-col='12'>R</div>
<div class='cell' data-row='13' data-col='13'>E</div>
<div class='cell' data-row='13' data-col='14'>T</div>
<div class='cell' data-row='14' data-col='0'>H</div>
<div class='cell' data-row='14' data-col='1'>Z</div>
<div class='cell' data-row='14' data-col='2'>T</div>
<div class='cell' data-row='14' data-col='3'>T</div>
<div class='cell' data-row='14' data-col='4'>Z</div>
<div class='cell' data-row='14' data-col='5'>A</div>
<div class='cell' data-row='14' data-col='6'>F</div>
<div class='cell' data-row='14' data-col='7'>P</div>
<div class='cell' data-row='14' data-col='8'>E</div>
<div class='cell' data-row='14' data-col='9'>Z</div>
<div class='cell' data-row='14' data-col='10'>F</div>
<div class='cell' data-row='14' data-col='11'>K</div>
<div class='cell' data-row='14' data-col='12'>H</div>
<div class='cell' data-row='14' data-col='13'>W</div>
<div class='cell' data-row='14' data-col='14'>L</div>
</div><ul id='word-list'>
<li>PARIS</li>
<li>TOMBE</li>
<li>OMBRE</li>
<li>PHANTOM</li>
<li>LUMIERE</li>
<li>FANTOME</li>
<li>OPERA</li>
<li>RUINE</li>
<li>MYSTERE</li>

</ul>

<button onclick="revealSecrets()" style="margin-top:20px;padding:8px 15px;font-size:1em;cursor:pointer;">Abandonner</button>
<p id="secret-message" style="margin-top: 30px; font-size: 1.3em; display: none;">‚ú® Les mots cach√©s √©taient : <strong>CIMETI√àRE</strong> et <strong>MONTPARNASSE</strong> !
<button id="next-button" style="margin-top:20px;padding:10px 20px;font-size:1em;cursor:pointer;display:none;" onclick="location.href='https://example.com'">Continuer</button>
<p style="margin-top: 10px; font-size: 0.9em; color: #888;">(Tu peux changer le lien dans le code)</p>‚ú® Les mots cach√©s √©taient : <strong>CIMETI√àRE</strong> et <strong>MONTPARNASSE</strong> !

<script>
const words = ['PARIS', 'TOMBE', 'OMBRE', 'PHANTOM', 'LUMIERE', 'FANTOME', 'OPERA', 'RUINE', 'MYSTERE'];
const foundWords = new Set();
const listItems = document.querySelectorAll("#word-list li");
const gridCells = document.querySelectorAll(".cell");

// Gestion du clic sur les lettres
gridCells.forEach(cell => {
  cell.addEventListener("click", () => {
    cell.classList.toggle("marked");
  });
});

// Gestion du clic sur les mots de la liste
listItems.forEach(item => {
  item.addEventListener("click", () => {
    if (!item.classList.contains("found")) {
      item.classList.add("found");
      foundWords.add(item.textContent);
    } else {
      item.classList.remove("found");
      foundWords.delete(item.textContent);
    }
    checkCompletion();
  });
});

function checkCompletion() {
  if (foundWords.size === words.length) {
    const keepPositions = [];

    const grid = Array.from(document.querySelectorAll(".cell")).map(cell => ({
      row: parseInt(cell.dataset.row),
      col: parseInt(cell.dataset.col),
      letter: cell.textContent,
      el: cell
    }));

    function markWordPositions(word) {
      const directions = [
        { dr: 0, dc: 1 },  // horizontal ‚Üí
        { dr: 1, dc: 0 }   // vertical ‚Üì
      ];

      for (const { dr, dc } of directions) {
        for (let r = 0; r < 15; r++) {
          for (let c = 0; c < 15; c++) {
            let match = true;
            for (let i = 0; i < word.length; i++) {
              const rr = r + dr * i;
              const cc = c + dc * i;
              if (rr >= 15 || cc >= 15) {
                match = false;
                break;
              }
              const letter = grid.find(cell => cell.row === rr && cell.col === cc).letter;
              if (letter !== word[i]) {
                match = false;
                break;
              }
            }
            if (match) {
              for (let i = 0; i < word.length; i++) {
                const rr = r + dr * i;
                const cc = c + dc * i;
                keepPositions.push(`${rr}-${cc}`);
              }
              return;
            }
          }
        }
      }
    }

    markWordPositions("CIMETIERE");
    markWordPositions("MONTPARNASSE");

    grid.forEach(cell => {
      const key = `${cell.row}-${cell.col}`;
      if (!keepPositions.includes(key)) {
        cell.el.classList.add("hidden");
      }
    });

    
document.getElementById("secret-message").style.display = "block";
document.getElementById("next-button").style.display = "inline-block";

  }
}

function revealSecrets() {
  const grid = document.querySelectorAll(".cell");
  const keepPositions = [];

  const gridData = Array.from(grid).map(cell => ({
    row: parseInt(cell.dataset.row),
    col: parseInt(cell.dataset.col),
    letter: cell.textContent,
    el: cell
  }));

  function markWordPositions(word) {
    const directions = [
      { dr: 0, dc: 1 },  // ‚Üí
      { dr: 1, dc: 0 }   // ‚Üì
    ];
    for (const { dr, dc } of directions) {
      for (let r = 0; r < 15; r++) {
        for (let c = 0; c < 15; c++) {
          let match = true;
          for (let i = 0; i < word.length; i++) {
            const rr = r + dr * i;
            const cc = c + dc * i;
            if (rr >= 15 || cc >= 15) {
              match = false;
              break;
            }
            const letter = gridData.find(cell => cell.row === rr && cell.col === cc).letter;
            if (letter !== word[i]) {
              match = false;
              break;
            }
          }
          if (match) {
            for (let i = 0; i < word.length; i++) {
              const rr = r + dr * i;
              const cc = c + dc * i;
              keepPositions.push(`${rr}-${cc}`);
            }
            return;
          }
        }
      }
    }
  }

  markWordPositions("CIMETIERE");
  markWordPositions("MONTPARNASSE");

  gridData.forEach(cell => {
    const key = `${cell.row}-${cell.col}`;
    if (!keepPositions.includes(key)) {
      cell.el.classList.add("hidden");
    }
  });

  
document.getElementById("secret-message").style.display = "block";
document.getElementById("next-button").style.display = "inline-block";

}

// Auto-check mots barr√©s
function checkMarkedWords() {
  const gridMatrix = Array.from({ length: 15 }, () => Array(15).fill(""));
  document.querySelectorAll(".cell").forEach(cell => {
    const r = parseInt(cell.dataset.row);
    const c = parseInt(cell.dataset.col);
    gridMatrix[r][c] = cell.classList.contains("marked") ? cell.textContent : "";
  });

  function isWordMarked(word) {
    const dirs = [[0, 1], [1, 0]]; // ‚Üí ‚Üì
    for (let [dr, dc] of dirs) {
      for (let r = 0; r < 15; r++) {
        for (let c = 0; c < 15; c++) {
          let ok = true;
          for (let i = 0; i < word.length; i++) {
            const rr = r + dr * i;
            const cc = c + dc * i;
            if (rr >= 15 || cc >= 15 || gridMatrix[rr][cc] !== word[i]) {
              ok = false;
              break;
            }
          }
          if (ok) return true;
        }
      }
    }
    return false;
  }

  document.querySelectorAll("#word-list li").forEach(li => {
    const word = li.textContent;
    if (!li.classList.contains("found") && isWordMarked(word)) {
      li.classList.add("found");
      foundWords.add(word);
    }
  });

  checkCompletion();
}

// Ajouter l‚Äô√©couteur de clic √† chaque lettre pour trigger auto-check
document.querySelectorAll(".cell").forEach(cell => {
  cell.addEventListener("click", () => {
    checkMarkedWords();
  });
});
</script>
</body>
</html>
